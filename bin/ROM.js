window.ROM=function(){return{}}();window.ROM.selector=function(){return{Selector:function(m,k,c,a,b,d){m=m||"";k=k||null;c=c||null;a=a||[];b=b||{};d=!!d;var h=a.join(" "),e=Object.keys(b),u=function(a){var b=a.getElementsByTagName(k),f=function(b){return b.parentElement===a};return d?n(b,f):b},q=function(a){var b=document.getElementById(c),f;if(!(f=null===b)){a:{for(f=b;null!==f.parentElement;){if(f.parentElement===a){f=!0;break a}f=f.parentElement}f=!1}f=!f}return f?[]:d&&b.parentElement!==a?[]:[b]},r=function(b){var a=b.getElementsByClassName(h),
f=function(a){return a.parentElement===b};return d?n(a,f):a},s=function(a){var b=[].concat(a.children);return l(a,b)},g=function(a,b){var f=k.toUpperCase();return n(b,function(a){return a.tagName===f})},p=function(b,c){return n(c,function(b){for(var c=0;c<a.length;c+=1)if(!b.classList.contains(a[c]))return!1;return!0})},l=function(a,c){return n(c,function(a){for(var c=0;c<e.length;c+=1){var d=e[c],g=b[d];if(!a.hasAttribute(d)||!g(a.getAttribute(d)))return!1}return!0})},n=function(a,b){for(var c=[],
d=0;d<a.length;d+=1)b(a[d],d)&&c.push(a[d]);return c};this.match=function(b){var d,f=[q,u,r,s];d=null!==c?0:null!==k?1:0!==a.length?2:3;f=f[d](b);1>d&&null!==k&&(f=g(b,f));2>d&&0!==a.length&&(f=p(b,f));3>d&&0!==e.length&&(f=l(b,f));return f};this.selectorString=m;return this}}}();window.ROM.selector.SelectorTree=function(){this.addSelector=function(m){}};window.ROM.selector.tree=new ROM.selector.SelectorTree;window.ROM.selector.attributes=function(){var m={getMatchFunction:function(c,a){var b=m.attr[c]||function(){return!1};return function(c){return b(a,c)}},attr:{"=":function(c,a){return c===a},"~=":function(c,a){for(var b=k(c),d=k(a),h=0;h<b.length;h+=1)if(-1===d.indexOf(b[h]))return!1;return!0},"|=":function(c,a){for(var b=k(c),d=k(a),h=0;h<b.length;h+=1)if(d[h]!==b[h])return!1;return!0},"^=":function(c,a){return 0===a.indexOf(c)},"$=":function(c,a){return-1!==a.indexOf(c,a.length-c.length)},"*=":function(c,
a){return-1!==a.indexOf(c)},exists:function(){return!0}}},k=function(c){c=c.split(" ");for(var a=[],b=[],d=0;d<c.length;d+=1)a=a.concat(c[d].split("-"));for(d=0;d<a.length;d+=1)""!==a[d]&&b.push(a[d]);return b};return m}();window.ROM.selector.parseString=function(){var m=function(a,b,d){for(var h=b[0],e,m,q,r=[],s={};b[0]<a.length;){e=a[b[0]];if(-1!==" \t\r\n".indexOf(e)||">"===e)break;switch(e){case ".":r.push(k(a,b));break;case "#":q=a;e=b;e[0]+=1;q=c(q,e);break;case "[":e=a;var g=b,p={};g[0]+=1;p.name=c(e,g);var l=e[g[0]],n=void 0;if("]"===l)p.matchFn=ROM.selector.attributes.getMatchFunction("exists");else{"="===l?n="=":(g[0]+=1,l+=e[g[0]],n=-1!==Object.keys(ROM.selector.attributes.attr).indexOf(l)?l:"exists");g[0]+=
1;l=e[g[0]];if('"'===l){g[0]+=1;for(var t=g[0];g[0]<e.length&&(l=e[g[0]],'"'!==l);)g[0]+=1;p.matchValue=e.substring(t,g[0]);g[0]+=1}else p.matchValue=c(e,g);g[0]+=1;p.matchFn=ROM.selector.attributes.getMatchFunction(n,p.matchValue)}e=p;s[e.name]=e.matchFn;break;default:m=c(a,b)}}return new ROM.selector.Selector(a.substring(h,b[0]),m,q,r,s,d)},k=function(a,b){b[0]+=1;return c(a,b)},c=function(a,b){for(var c=b[0],h;b[0]<a.length;){h=a[b[0]];if(-1!=='#.[]~|^$*=">'.indexOf(h)||-1!==" \t\r\n".indexOf(h))break;
b[0]+=1}return a.substring(c,b[0])};return function(a){for(var b=[0],c,h=!1,e=[];b[0]<a.length;){c=a[b[0]];if(-1!==" \t\r\n".indexOf(c))b[0]+=1;else if(">"===c){h=!0;b[0]+=1;continue}else e.push(m(a,b,h));h=!1}return e}}();
