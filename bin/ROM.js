window.ROM=function(){return{}}();window.ROM.digest=function(){var d=!1,e=[],c=[],a=function(){if(!d){d=!0;for(var a=10,b=0;b<e.length;b+=1){try{e[b]()}catch(g){(console.error||console.log)(g)}if(!a--)throw"10 digest iterations reached";}e=[];for(b=0;b<c.length;b+=1)try{c[b]()}catch(m){(console.error||console.log)(m)}c=[];d=!1}};a.queue=function(a){"function"===typeof a&&e.push(a)};a.queuePostDigest=function(a){"function"===typeof a&&c.push(a)};return a}();window.ROM.apply=function(){return function(d){ROM.digest.queue(d);ROM.digest()}}();window.ROM.applyAsync=function(){var d=!1;return function(e){d||setTimeout(function(){d=!1;ROM.digest()},0);d=!0;ROM.digest.queue(e)}}();window.ROM.update=function(){return function(d){}}();window.ROM.components={};window.ROM.Component=function(){return function(d,e,c){d=d||"untitled_component";e=e.split(",")||"";c=c||{};if(-1!==this.name.indexOf(" "))throw"Component name cannot have spaces: "+this.name;this.name=d;this.selectors=[];this.events=c;for(d=0;d<e.length;d+=1)this.selectors.push(ROM.selector.parseString(e[d]));return this}}();window.ROM.selector=function(){return{Selector:function(d,e,c,a,h,b){d=d||"";e=e||null;c=c||null;a=a||[];h=h||{};b=!!b;var g=a.join(" "),m=Object.keys(h),s=function(a){var c=a.getElementsByTagName(e),d=function(b){return b.parentElement===a};return b?n(c,d):p(c)},t=function(a){var d=document.getElementById(c),l;if(!(l=null===d)){a:if(l=d,a===document)l=!0;else{for(;null!==l.parentElement;){if(l.parentElement===a){l=!0;break a}l=l.parentElement}l=!1}l=!l}return l?[]:b&&d.parentElement!==a?[]:[d]},
r=function(a){var c=a.getElementsByClassName(g),d=function(b){return b.parentElement===a};return b?n(c,d):p(c)},u=function(a){var c=p(v(a)||a.childNodes);b||function w(a){c=c.concat(a);a=v(a);for(var b=0;b<a.length;b+=1)w(a[b])}(a);return k(a,c)},f=function(a,b){var c=e.toUpperCase();return n(b,function(a){return a.tagName===c})},q=function(b,c){return n(c,function(b){for(var c=0;c<a.length;c+=1)if(!b.classList.contains(a[c]))return!1;return!0})},k=function(a,b){return n(b,function(a){for(var b=0;b<
m.length;b+=1){var c=m[b],d=h[c];if(!a.hasAttribute||!a.hasAttribute(c)||!d(a.getAttribute(c)))return!1}return!0})},n=function(a,b){for(var c=[],d=0;d<a.length;d+=1)b(a[d],d)&&c.push(a[d]);return c},p=function(a){return Array.prototype.slice.call(a,0)},v=function(a){var b=function(a){return 1===a.nodeType};return a.children||n(a.childNodes,b)};this.match=function(b){var d,h=[t,s,r,u];d=null!==c?0:null!==e?1:0!==a.length?2:3;h=h[d](b);1>d&&null!==e&&(h=f(b,h));2>d&&0!==a.length&&(h=q(b,h));3>d&&0!==
m.length&&(h=k(b,h));return h};this.selectorString=d;return this}}}();window.ROM.selector.attributes=function(){var d={getMatchFunction:function(c,a){var e=d.attr[c]||function(){return!1};a=a.toLowerCase();return function(b){return e(a,b)}},attr:{"=":function(c,a){return c===a},"~=":function(c,a){for(var d=e(c),b=e(a),g=0;g<d.length;g+=1)if(-1===b.indexOf(d[g]))return!1;return!0},"|=":function(c,a){for(var d=e(c),b=e(a),g=0;g<d.length;g+=1)if(b[g]!==d[g])return!1;return!0},"^=":function(c,a){return 0===a.indexOf(c)},"$=":function(c,a){return-1!==a.indexOf(c,a.length-
c.length)},"*=":function(c,a){return-1!==a.indexOf(c)},exists:function(){return!0}}},e=function(c){c=c.split(" ");for(var a=[],d=[],b=0;b<c.length;b+=1)a=a.concat(c[b].split("-"));for(b=0;b<a.length;b+=1)""!==a[b]&&d.push(a[b]);return d};return d}();window.ROM.selector.parseString=function(){var d=function(c,a,d){for(var b,g,m,s=[],t={},r=[],u=[];a[0]<c.length;){b=c[a[0]];if(-1!==" \t\r\n".indexOf(b)||">"===b)break;switch(b){case ".":b=c;var f=a;f[0]+=1;b=e(b,f).toLowerCase();s.push(b);r.push("."+b);break;case "#":m=c;b=a;b[0]+=1;m=e(m,b);break;case "[":b=c;var f=a,q={};f[0]+=1;q.name=e(b,f);var k=b[f[0]],n=void 0,p=void 0;if("]"===k)q.matchFn=ROM.selector.attributes.getMatchFunction("exists"),f[0]+=1;else{"="===k?n="=":(f[0]+=1,k+=b[f[0]],n=
-1!==Object.keys(ROM.selector.attributes.attr).indexOf(k)?k:"exists");f[0]+=1;k=b[f[0]];if('"'===k){f[0]+=1;for(p=f[0];f[0]<b.length&&(k=b[f[0]],'"'!==k);)f[0]+=1;p=b.substring(p,f[0]);f[0]+=1}else p=e(b,f);f[0]+=1;q.matchType=n;q.matchValue=p;q.matchFn=ROM.selector.attributes.getMatchFunction(n,q.matchValue)}b=q;t[b.name]=b.matchFn;u.push(["[",b.name,b.matchType,'"',b.matchValue,'"]'].join(""));break;default:g=e(c,a)}}c=ROM.selector.Selector;a=m;b=[];g&&b.push(g.toUpperCase());a&&b.push("#",a.toLowerCase());
b=b.concat(r.sort());b=b.concat(u.sort());r=b.join("");return new c(r,g,m,s,t,d)},e=function(c,a){for(var d=a[0],b;a[0]<c.length;){b=c[a[0]];if(-1!=='#.[]~|^$*=">'.indexOf(b)||-1!==" \t\r\n".indexOf(b))break;a[0]+=1}return c.substring(d,a[0])};return function(c){for(var a=[0],e,b=!1,g=[];a[0]<c.length;){e=c[a[0]];if(-1!==" \t\r\n".indexOf(e))a[0]+=1;else if(">"===e){b=!0;a[0]+=1;continue}else g.push(d(c,a,b));b=!1}return g}}();window.ROM.util=function(){return{}}();window.ROM.util.getElementComponents=function(){return function(d){return d.hasAttribute&&d.hasAttribute("data-components")?d.getAttribute("data-components").split(" "):[]}}();window.ROM.util.arrayFilter=function(){return function(d,e){for(var c=[],a=0;a<d.length;a+=1)e(d[a],a)&&c.push(d[a]);return c}}();window.ROM.util.arrayMap=function(){return function(d,e){for(var c=0;c<d.length;c+=1)d[c]=e(d[c],c);return d}}();window.ROM.util.arrayReduce=function(){return function(d,e,c){c=c||null;if(1===d.length)return d[0];for(var a=0;a<d.length-1;a+=1)c=e(d[a],d[a+1]);return c}}();
