window.ROM=function(){return{}}();window.ROM.selector=function(){return{Selector:function(m,k,d,b,a,c){m=m||"";k=k||null;d=d||null;b=b||[];a=a||{};c=!!c;var h=b.join(" "),g=Object.keys(a),w=function(b){var a=b.getElementsByTagName(k),f=function(a){return a.parentElement===b};return c?n(a,f):r(a)},q=function(b){var a=document.getElementById(d),f;if(!(f=null===a)){a:if(f=a,b===document)f=!0;else{for(;null!==f.parentElement;){if(f.parentElement===b){f=!0;break a}f=f.parentElement}f=!1}f=!f}return f?[]:c&&a.parentElement!==b?[]:[a]},
s=function(b){var a=b.getElementsByClassName(h),f=function(a){return a.parentElement===b};return c?n(a,f):r(a)},t=function(a){var b=r(u(a)||a.childNodes);c||function v(a){b=b.concat(a);a=u(a);for(var c=0;c<a.length;c+=1)v(a[c])}(a);return l(a,b)},e=function(a,b){var f=k.toUpperCase();return n(b,function(a){return a.tagName===f})},p=function(a,c){return n(c,function(a){for(var c=0;c<b.length;c+=1)if(!a.classList.contains(b[c]))return!1;return!0})},l=function(b,c){return n(c,function(b){for(var c=0;c<
g.length;c+=1){var d=g[c],e=a[d];if(!b.hasAttribute||!b.hasAttribute(d)||!e(b.getAttribute(d)))return!1}return!0})},n=function(a,b){for(var c=[],d=0;d<a.length;d+=1)b(a[d],d)&&c.push(a[d]);return c},r=function(a){return Array.prototype.slice.call(a,0)},u=function(a){var b=function(a){return 1===a.nodeType};return a.children||n(a.childNodes,b)};this.match=function(a){var c,f=[q,w,s,t];c=null!==d?0:null!==k?1:0!==b.length?2:3;f=f[c](a);1>c&&null!==k&&(f=e(a,f));2>c&&0!==b.length&&(f=p(a,f));3>c&&0!==
g.length&&(f=l(a,f));return f};this.selectorString=m;return this}}}();window.ROM.selector.SelectorTree=function(){this.addSelector=function(m){}};window.ROM.selector.tree=new ROM.selector.SelectorTree;window.ROM.selector.attributes=function(){var m={getMatchFunction:function(d,b){var a=m.attr[d]||function(){return!1};return function(c){return a(b,c)}},attr:{"=":function(d,b){return d===b},"~=":function(d,b){for(var a=k(d),c=k(b),h=0;h<a.length;h+=1)if(-1===c.indexOf(a[h]))return!1;return!0},"|=":function(d,b){for(var a=k(d),c=k(b),h=0;h<a.length;h+=1)if(c[h]!==a[h])return!1;return!0},"^=":function(d,b){return 0===b.indexOf(d)},"$=":function(d,b){return-1!==b.indexOf(d,b.length-d.length)},"*=":function(d,
b){return-1!==b.indexOf(d)},exists:function(){return!0}}},k=function(d){d=d.split(" ");for(var b=[],a=[],c=0;c<d.length;c+=1)b=b.concat(d[c].split("-"));for(c=0;c<b.length;c+=1)""!==b[c]&&a.push(b[c]);return a};return m}();window.ROM.selector.parseString=function(){var m=function(b,a,c){for(var h=a[0],g,m,q,s=[],t={};a[0]<b.length;){g=b[a[0]];if(-1!==" \t\r\n".indexOf(g)||">"===g)break;switch(g){case ".":s.push(k(b,a));break;case "#":q=b;g=a;g[0]+=1;q=d(q,g);break;case "[":g=b;var e=a,p={};e[0]+=1;p.name=d(g,e);var l=g[e[0]],n=void 0;if("]"===l)p.matchFn=ROM.selector.attributes.getMatchFunction("exists"),e[0]+=1;else{"="===l?n="=":(e[0]+=1,l+=g[e[0]],n=-1!==Object.keys(ROM.selector.attributes.attr).indexOf(l)?l:"exists");
e[0]+=1;l=g[e[0]];if('"'===l){e[0]+=1;for(var r=e[0];e[0]<g.length&&(l=g[e[0]],'"'!==l);)e[0]+=1;p.matchValue=g.substring(r,e[0]);e[0]+=1}else p.matchValue=d(g,e);e[0]+=1;p.matchFn=ROM.selector.attributes.getMatchFunction(n,p.matchValue)}g=p;t[g.name]=g.matchFn;break;default:m=d(b,a)}}return new ROM.selector.Selector(b.substring(h,a[0]),m,q,s,t,c)},k=function(b,a){a[0]+=1;return d(b,a)},d=function(b,a){for(var c=a[0],d;a[0]<b.length;){d=b[a[0]];if(-1!=='#.[]~|^$*=">'.indexOf(d)||-1!==" \t\r\n".indexOf(d))break;
a[0]+=1}return b.substring(c,a[0])};return function(b){for(var a=[0],c,d=!1,g=[];a[0]<b.length;){c=b[a[0]];if(-1!==" \t\r\n".indexOf(c))a[0]+=1;else if(">"===c){d=!0;a[0]+=1;continue}else g.push(m(b,a,d));d=!1}return g}}();
