window.ROM=function(){return{}}();window.ROM.selector=function(){return{Selector:function(k,h,c,b,e,a){k=k||"";h=h||null;c=c||null;b=b||[];e=e||{};a=!!a;var g=b.join(" "),u=Object.keys(e),r=function(b){var c=b.getElementsByTagName(h),f=function(a){return a.parentElement===b};return a?m(c,f):n(c)},s=function(b){var d=document.getElementById(c),f;if(!(f=null===d)){a:if(f=d,b===document)f=!0;else{for(;null!==f.parentElement;){if(f.parentElement===b){f=!0;break a}f=f.parentElement}f=!1}f=!f}return f?[]:a&&d.parentElement!==b?[]:[d]},
q=function(b){var c=b.getElementsByClassName(g),f=function(a){return a.parentElement===b};return a?m(c,f):n(c)},t=function(b){var c=n(v(b)||b.childNodes);a||function w(a){c=c.concat(a);a=v(a);for(var b=0;b<a.length;b+=1)w(a[b])}(b);return l(b,c)},d=function(a,b){var c=h.toUpperCase();return m(b,function(a){return a.tagName===c})},p=function(a,c){return m(c,function(a){for(var c=0;c<b.length;c+=1)if(!a.classList.contains(b[c]))return!1;return!0})},l=function(a,b){return m(b,function(a){for(var b=0;b<
u.length;b+=1){var c=u[b],d=e[c];if(!a.hasAttribute||!a.hasAttribute(c)||!d(a.getAttribute(c)))return!1}return!0})},m=function(a,b){for(var c=[],d=0;d<a.length;d+=1)b(a[d],d)&&c.push(a[d]);return c},n=function(a){return Array.prototype.slice.call(a,0)},v=function(a){var b=function(a){return 1===a.nodeType};return a.children||m(a.childNodes,b)};this.match=function(a){var e,f=[s,r,q,t];e=null!==c?0:null!==h?1:0!==b.length?2:3;f=f[e](a);1>e&&null!==h&&(f=d(a,f));2>e&&0!==b.length&&(f=p(a,f));3>e&&0!==
u.length&&(f=l(a,f));return f};this.selectorString=k;return this}}}();window.ROM.selector.SelectorTree=function(){this.addSelector=function(k){}};window.ROM.selector.tree=new ROM.selector.SelectorTree;window.ROM.selector.attributes=function(){var k={getMatchFunction:function(c,b){var e=k.attr[c]||function(){return!1};b=b.toLowerCase();return function(a){return e(b,a)}},attr:{"=":function(c,b){return c===b},"~=":function(c,b){for(var e=h(c),a=h(b),g=0;g<e.length;g+=1)if(-1===a.indexOf(e[g]))return!1;return!0},"|=":function(c,b){for(var e=h(c),a=h(b),g=0;g<e.length;g+=1)if(a[g]!==e[g])return!1;return!0},"^=":function(c,b){return 0===b.indexOf(c)},"$=":function(c,b){return-1!==b.indexOf(c,b.length-
c.length)},"*=":function(c,b){return-1!==b.indexOf(c)},exists:function(){return!0}}},h=function(c){c=c.split(" ");for(var b=[],e=[],a=0;a<c.length;a+=1)b=b.concat(c[a].split("-"));for(a=0;a<b.length;a+=1)""!==b[a]&&e.push(b[a]);return e};return k}();window.ROM.selector.parseString=function(){var k=function(c,b,e){for(var a,g,k,r=[],s={},q=[],t=[];b[0]<c.length;){a=c[b[0]];if(-1!==" \t\r\n".indexOf(a)||">"===a)break;switch(a){case ".":a=c;var d=b;d[0]+=1;a=h(a,d).toLowerCase();r.push(a);q.push("."+a);break;case "#":k=c;a=b;a[0]+=1;k=h(k,a);break;case "[":a=c;var d=b,p={};d[0]+=1;p.name=h(a,d);var l=a[d[0]],m=void 0,n=void 0;if("]"===l)p.matchFn=ROM.selector.attributes.getMatchFunction("exists"),d[0]+=1;else{"="===l?m="=":(d[0]+=1,l+=a[d[0]],m=
-1!==Object.keys(ROM.selector.attributes.attr).indexOf(l)?l:"exists");d[0]+=1;l=a[d[0]];if('"'===l){d[0]+=1;for(n=d[0];d[0]<a.length&&(l=a[d[0]],'"'!==l);)d[0]+=1;n=a.substring(n,d[0]);d[0]+=1}else n=h(a,d);d[0]+=1;p.matchType=m;p.matchValue=n;p.matchFn=ROM.selector.attributes.getMatchFunction(m,p.matchValue)}a=p;s[a.name]=a.matchFn;t.push(["[",a.name,a.matchType,'"',a.matchValue,'"]'].join(""));break;default:g=h(c,b)}}c=ROM.selector.Selector;b=k;a=[];g&&a.push(g.toUpperCase());b&&a.push("#",b.toLowerCase());
a=a.concat(q.sort());a=a.concat(t.sort());q=a.join("");return new c(q,g,k,r,s,e)},h=function(c,b){for(var e=b[0],a;b[0]<c.length;){a=c[b[0]];if(-1!=='#.[]~|^$*=">'.indexOf(a)||-1!==" \t\r\n".indexOf(a))break;b[0]+=1}return c.substring(e,b[0])};return function(c){for(var b=[0],e,a=!1,g=[];b[0]<c.length;){e=c[b[0]];if(-1!==" \t\r\n".indexOf(e))b[0]+=1;else if(">"===e){a=!0;b[0]+=1;continue}else g.push(k(c,b,a));a=!1}return g}}();
