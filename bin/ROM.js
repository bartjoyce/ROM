window.ROM=function(){return{}}();window.ROM.digest=function(){var d=!1,e=[],c=[],b=function(){if(!d){d=!0;for(var b=10,a=0;a<e.length;a+=1){try{e[a]()}catch(h){(console.error||console.log)(h)}if(!b--)throw"10 digest iterations reached";}e=[];for(a=0;a<c.length;a+=1)try{c[a]()}catch(l){(console.error||console.log)(l)}c=[];d=!1}};b.queue=function(b){"function"===typeof b&&e.push(b)};b.queuePostDigest=function(b){"function"===typeof b&&c.push(b)};return b}();window.ROM.apply=function(){return function(d){ROM.digest.queue(d);ROM.digest()}}();window.ROM.applyAsync=function(){var d=!1;return function(e){d||setTimeout(function(){d=!1;ROM.digest()},0);d=!0;ROM.digest.queue(e)}}();window.ROM.update=function(){return function(d){}}();window.ROM.components={};window.ROM.Component=function(){return function(d,e,c){d=d||"untitled_component";e=e.split(",")||"";c=c||{};if(-1!==this.name.indexOf(" "))throw"Component name cannot have spaces: "+this.name;this.name=d;this.selectors=[];this.events=c;for(d=0;d<e.length;d+=1)this.selectors.push(ROM.selector.parseString(e[d]));return this}}();window.ROM.selector=function(){return{Selector:function(d,e,c,b,r,a){d=d||"";e=e||null;c=c||null;b=b||[];r=r||{};a=!!a;var h=b.join(" "),l=Object.keys(r),s=function(b){var c=b.getElementsByTagName(e),g=function(a){return a.parentElement===b};return a?m(c,g):n(c)},t=function(b){var d=document.getElementById(c),g;if(!(g=null===d)){a:if(g=d,b===document)g=!0;else{for(;null!==g.parentElement;){if(g.parentElement===b){g=!0;break a}g=g.parentElement}g=!1}g=!g}return g?[]:a&&d.parentElement!==b?[]:[d]},
q=function(b){var c=b.getElementsByClassName(h),g=function(a){return a.parentElement===b};return a?m(c,g):n(c)},u=function(b){var c=n(v(b)||b.childNodes);a||function w(a){c=c.concat(a);a=v(a);for(var b=0;b<a.length;b+=1)w(a[b])}(b);return k(b,c)},f=function(a,b){var c=e.toUpperCase();return m(b,function(a){return a.tagName===c})},p=function(a,c){return m(c,function(a){for(var c=0;c<b.length;c+=1)if(!a.classList.contains(b[c]))return!1;return!0})},k=function(a,b){return m(b,function(a){for(var b=0;b<
l.length;b+=1){var c=l[b],d=r[c];if(!a.hasAttribute||!a.hasAttribute(c)||!d(a.getAttribute(c)))return!1}return!0})},m=function(a,b){for(var c=[],d=0;d<a.length;d+=1)b(a[d],d)&&c.push(a[d]);return c},n=function(a){return Array.prototype.slice.call(a,0)},v=function(a){var b=function(a){return 1===a.nodeType};return a.children||m(a.childNodes,b)};this.match=function(a){var d,g=[t,s,q,u];d=null!==c?0:null!==e?1:0!==b.length?2:3;g=g[d](a);1>d&&null!==e&&(g=f(a,g));2>d&&0!==b.length&&(g=p(a,g));3>d&&0!==
l.length&&(g=k(a,g));return g};this.selectorString=d;return this}}}();window.ROM.selector.SelectorTree=function(){this.addSelector=function(d){}};window.ROM.selector.tree=new ROM.selector.SelectorTree;window.ROM.selector.attributes=function(){var d={getMatchFunction:function(c,b){var e=d.attr[c]||function(){return!1};b=b.toLowerCase();return function(a){return e(b,a)}},attr:{"=":function(c,b){return c===b},"~=":function(c,b){for(var d=e(c),a=e(b),h=0;h<d.length;h+=1)if(-1===a.indexOf(d[h]))return!1;return!0},"|=":function(c,b){for(var d=e(c),a=e(b),h=0;h<d.length;h+=1)if(a[h]!==d[h])return!1;return!0},"^=":function(c,b){return 0===b.indexOf(c)},"$=":function(c,b){return-1!==b.indexOf(c,b.length-
c.length)},"*=":function(c,b){return-1!==b.indexOf(c)},exists:function(){return!0}}},e=function(c){c=c.split(" ");for(var b=[],d=[],a=0;a<c.length;a+=1)b=b.concat(c[a].split("-"));for(a=0;a<b.length;a+=1)""!==b[a]&&d.push(b[a]);return d};return d}();window.ROM.selector.parseString=function(){var d=function(c,b,d){for(var a,h,l,s=[],t={},q=[],u=[];b[0]<c.length;){a=c[b[0]];if(-1!==" \t\r\n".indexOf(a)||">"===a)break;switch(a){case ".":a=c;var f=b;f[0]+=1;a=e(a,f).toLowerCase();s.push(a);q.push("."+a);break;case "#":l=c;a=b;a[0]+=1;l=e(l,a);break;case "[":a=c;var f=b,p={};f[0]+=1;p.name=e(a,f);var k=a[f[0]],m=void 0,n=void 0;if("]"===k)p.matchFn=ROM.selector.attributes.getMatchFunction("exists"),f[0]+=1;else{"="===k?m="=":(f[0]+=1,k+=a[f[0]],m=
-1!==Object.keys(ROM.selector.attributes.attr).indexOf(k)?k:"exists");f[0]+=1;k=a[f[0]];if('"'===k){f[0]+=1;for(n=f[0];f[0]<a.length&&(k=a[f[0]],'"'!==k);)f[0]+=1;n=a.substring(n,f[0]);f[0]+=1}else n=e(a,f);f[0]+=1;p.matchType=m;p.matchValue=n;p.matchFn=ROM.selector.attributes.getMatchFunction(m,p.matchValue)}a=p;t[a.name]=a.matchFn;u.push(["[",a.name,a.matchType,'"',a.matchValue,'"]'].join(""));break;default:h=e(c,b)}}c=ROM.selector.Selector;b=l;a=[];h&&a.push(h.toUpperCase());b&&a.push("#",b.toLowerCase());
a=a.concat(q.sort());a=a.concat(u.sort());q=a.join("");return new c(q,h,l,s,t,d)},e=function(c,b){for(var d=b[0],a;b[0]<c.length;){a=c[b[0]];if(-1!=='#.[]~|^$*=">'.indexOf(a)||-1!==" \t\r\n".indexOf(a))break;b[0]+=1}return c.substring(d,b[0])};return function(c){for(var b=[0],e,a=!1,h=[];b[0]<c.length;){e=c[b[0]];if(-1!==" \t\r\n".indexOf(e))b[0]+=1;else if(">"===e){a=!0;b[0]+=1;continue}else h.push(d(c,b,a));a=!1}return h}}();window.ROM.util.getElementComponents=function(){return function(d){return d.hasAttribute&&d.hasAttribute("data-components")?d.getAttribute("data-components").split(" "):[]}}();
